@app.route('/report', methods=['GET', 'POST'])
def report():
    message = None
    if request.method == 'POST':
        url = request.form['scam_link']
        report = {
            "link": url,
            "reported_at": datetime.datetime.now().isoformat()
        }
        try:
            collection.insert_one(report)  # Save to MongoDB
            message = "✅ Thank you! Your report has been submitted."
        except Exception as e:
            message = f"❌ Failed to save: {e}"
    return render_template('report.html', message=message)
